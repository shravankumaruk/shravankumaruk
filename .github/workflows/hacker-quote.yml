name: 🧠 Daily Hacker Quote

on:
  schedule:
    - cron: "0 6 * * *"
  workflow_dispatch:

jobs:
  quote:
    runs-on: ubuntu-latest

    steps:
      - name: 📥 Checkout repo
        uses: actions/checkout@v3

      - name: 📄 Pick random hacker quote
        id: get_quote
        run: |
          quote=$(shuf -n 1 quotes.txt)
          echo "QUOTE=$quote" >> $GITHUB_OUTPUT

      - name: 📝 Update README.md with quote
        run: |
          quote="${{ steps.get_quote.outputs.QUOTE }}"
          sed -i "s|> _quote will appear here_|> \"$quote\"|" README.md

      - name: ✅ Commit and push
        uses: EndBug/add-and-commit@v9
        with:
          message: "💡 update daily hacker quote"
          add: "README.md"
