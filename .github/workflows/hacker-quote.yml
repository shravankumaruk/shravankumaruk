name: ðŸ§  Daily Hacker Quote

on:
  schedule:
    - cron: "0 6 * * *"
  workflow_dispatch:

jobs:
  quote:
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ“¥ Checkout repo
        uses: actions/checkout@v3

      - name: ðŸ“„ Pick random hacker quote
        id: get_quote
        run: |
          quote=$(shuf -n 1 quotes.txt)
          echo "QUOTE=$quote" >> $GITHUB_OUTPUT

      - name: ðŸ“ Update README.md with quote
        run: |
          quote="${{ steps.get_quote.outputs.QUOTE }}"
          echo "Quote selected: $quote"
          if [ -z "$quote" ]; then
            echo "No quote found!"
            exit 1
          fi
          # Replace the placeholder with the new quote (no extra quotes)
          sed -i "s|> _quote will appear here_|> $quote|" README.md

      - name: âœ… Commit and push
        uses: EndBug/add-and-commit@v9
        with:
          message: "ðŸ’¡ update daily hacker quote"
          add: "README.md"
